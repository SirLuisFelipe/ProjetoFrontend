<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerenciamento de Usuário</title>
  <link rel="stylesheet" href="../Assets/css/usuarios.css">
</head>
<body>
  <div class="sidebar">
    <button onclick="window.location.href='http://127.0.0.1:5500/Home/reserva.html'">Reservas</button>
    <button>Usuários</button>
    <button>Dashboards</button>
    <button onclick="logout()">Sair</button>
  </div>
  <div class="main-content">
    <h2>Gerenciamento de usuário</h2>
    <div class="search-row">
      <input type="text" id="searchInput" placeholder="Pesquisar" class="search-bar">
      <button id="searchButton" type="button">Buscar</button>
      <button id="registerButton" type="button" onclick="openRegisterModal()">Novo usuário</button>
    </div>

    <div class="user-list"> </div>
  </div>

  <!-- Modal de edição -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeEditModal()">&times;</span>
      <h2>Editar usuário</h2>
      <form id="editForm">
        <input type="hidden" id="userId">
        <label for="name">Nome:</label>
        <input type="text" id="name" required>
        
        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" required>
        
        <label for="email">E-mail:</label>
        <input type="email" id="email" required>
        
        <label for="password">Senha:</label>
        <input type="password" id="password">
        
        <label for="role">Tipo de usuário:</label>
        <select id="role">
          <option value="ADMIN">ADMIN</option>
          <option value="USER">User</option>
        </select>
        
        <button type="submit">Salvar</button>
      </form>
    </div>
  </div>

  <!-- Modal de Registro (reuso do modal da tela de login) -->
  <div id="registerModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeRegisterModal()">&times;</span>
      <h2>Registrar Usuário</h2>
      <form id="registerForm">
        <label for="registerName">Nome completo</label>
        <input type="text" id="registerName" required>

        <label for="registerCpf">CPF</label>
        <input type="text" id="registerCpf" required>

        <label for="registerEmail">E-mail</label>
        <input type="email" id="registerEmail" required>

        <label for="registerPassword">Senha</label>
        <input type="password" id="registerPassword" required>

        <label for="role">Tipo de usuário:</label>
        <select id="role">
          <option value="ADMIN">ADMIN</option>
          <option value="USER">User</option>
        </select>

        <button type="submit">Registrar</button>
      </form>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var buttons = document.querySelectorAll('.sidebar button');
      if (buttons.length > 0) {
        buttons[0].onclick = function() { window.location.href = 'reserva.html'; };
      }
    });
  </script>
  <script src="../Assets/js/usuarios.js"></script>
  <script src="../Assets/js/login.js"></script>
</body>
</html>
